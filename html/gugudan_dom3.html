<!DOCTYPE html>
<html>
	<head>
		<title>DOM</title>
		<meta charset="utf-8" />
	</head>
	<body>
		<h1>구구단-DOM</h1>
		<select id="rowValue" onchange="valueChange();">
			<option value="1">1</option>
			<option value="2">2</option>
			<option value="3">3</option>
			<option value="4">4</option>
			<option value="5">5</option>
			<option value="6">6</option>
			<option value="7">7</option>
			<option value="8">8</option>
		</select>	
		<br>
		<script type="text/javascript">
			var doc = window.document;
			var body = doc.body;
			var table = null;
			
			function valueChange() {
				if (table) {
					body.removeChild(table);
				}				
				var select = doc.getElementById('rowValue').value;				
				var row = parseInt(select);
			
				table = doc.createElement("table");
				table.border = 1;
								
				for (var a = 2; a < 10; a += row) {	
					var end = Math.min(a + row , 10);
					makeTable(table, a, end);
				}
				body.appendChild(table); 				
			}
				
            function makeTable(table, start, end) {
				var row = table.insertRow(-1);
                for (var i = start ; i < end; ++i) {
					cell = row.insertCell(-1);					
					cell.textContent = i + "단";
//					var th = doc.createElement("th");
//					th.textContent = i + "단";
//					row.appendChild(th);
                }
				for(var i = 1; i < 10; ++i) {
					row = table.insertRow(-1);
					for(var j = start; j < end; ++j) {
						cell = row.insertCell(-1);
						cell.textContent = j + "X" + i + "=" + j * i;
					}
				}
            }
		</script>
	</body>
</html>